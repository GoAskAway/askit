{
  "name": "ask",
  "version": 1,
  "hostToGuest": {
    "HOST_VISIBILITY": {
      "summary": "Host 告知 Guest 当前 tab 是否可见，用于 cooperative sleep/resume（降 CPU）。",
      "payload": {
        "visible": "boolean",
        "tabId": "string?"
      }
    },
    "RECEIVER_BACKPRESSURE": {
      "summary": "Host/Receiver 发生背压（跳过部分 ops），提示 Guest 降载。",
      "payload": {
        "skipped": "number",
        "batchId": "number?",
        "applied": "number",
        "total": "number"
      }
    }
  },
  "guestToHost": {
    "ASKIT_TOAST_SHOW": {
      "summary": "Internal: Guest requests host to show toast.",
      "payload": {
        "message": "string",
        "options": "unknown?"
      }
    },
    "ASKIT_HAPTIC_TRIGGER": {
      "summary": "Internal: Guest requests host to trigger haptic.",
      "payload": {
        "type": "string?"
      }
    },
    "GUEST_SLEEP_STATE": {
      "summary": "Guest 主动上报 sleep 状态（用于监控与督促）。",
      "payload": {
        "sleeping": "boolean",
        "tabId": "string?",
        "reason": "string?"
      }
    }
  }
}

